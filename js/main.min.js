window.onload=function(){function i(){var t=document.getElementById("all-dates"),u=t.style||window.getComputedStyle(t),n=parseInt(u.marginLeft),i=140,r;window.innerWidth>=768&&(i=350);n<0&&n>=-i?t.style.marginLeft="0px":n<-i?(r=n+i,t.style.marginLeft=r+"px"):n===0&&(t.style.marginLeft=n+30+"px",setTimeout(function(){t.style.marginLeft=n+"px"},150))}function r(){var n=document.getElementById("all-dates"),e=n.style||window.getComputedStyle(n),t=parseInt(e.marginLeft),i=n.offsetWidth,r=document.getElementById("all-dates-container").offsetWidth,u=140,f;window.innerWidth>=768&&(u=350);Math.abs(t)>=i-(r+u)&&Math.abs(t)<i-r&&i-(r+u)>=0?n.style.marginLeft=r-i+"px":Math.abs(t)<i-(r+u)?(f=t-u,n.style.marginLeft=f+"px"):t===r-i&&(n.style.marginLeft=t-30+"px",setTimeout(function(){n.style.marginLeft=t+"px"},150))}function t(n){n?calendar.setCurDate(n):n=calendar.getCurDate();var t=document.getElementById("all-dates"),i=document.getElementsByClassName("date-nav-left-container")[0],r=document.getElementsByClassName("date-nav-right-container")[0],u=document.getElementById("cal-heading");u.innerHTML=calendar.getMonthName(n.getMonth())+" "+n.getFullYear();i.style.display="none";r.style.display="none";t.innerHTML="";t.style.textAlign="center";t.style.paddingTop="60px";t.style.width="100%";t.className="";setTimeout(function(){t.className="transition-margin-left"},500);t.style.marginLeft="0px";t.innerHTML='<img src="img/loading-icon.gif" />';dataFactory.getRoomsData(n.getMonth(),n.getFullYear(),function(u){var s=calendar.getNumDaysOfMonth(n)*70,h=(s-document.getElementById("all-dates-container").offsetWidth)*-1,f=(n.getDate()*70-70)*-1,o,e;for(f=f<h?h:f,i.style.display="block",r.style.display="block",t.style.textAlign="inherit",t.style.paddingTop="0",t.style.width=s+"px",t.style.marginLeft=f+"px",t.innerHTML=calendar.drawCal(u,n.getMonth(),n.getFullYear()),o=document.getElementsByClassName("open-update-popup"),e=0;e<o.length;e++)o[e].addEventListener("click",function(n){updatePopup.drawPopup(this,n.clientX,n.clientY,this.dataset.dateStr,this.dataset.roomType,this.dataset.label,this.dataset.val)})},function(n){t.innerHTML="";alert(n)})}var n=document.getElementById("all-dates-container").offsetWidth;window.addEventListener("resize",function(){var i=document.getElementById("all-dates-container").offsetWidth,r,t;i>n&&(r=parseInt(document.getElementById("all-dates").style.marginLeft),t=r+(i-n),t>0&&(t=0),document.getElementById("all-dates").style.marginLeft=t+"px");n=i});document.getElementsByClassName("date-nav-left-container")[0].addEventListener("click",i);document.getElementsByClassName("date-nav-right-container")[0].addEventListener("click",r);document.getElementById("month-nav-left").addEventListener("click",function(){var r=calendar.getCurDate(),n,i,f=n=r.getMonth(),e=i=r.getFullYear(),u;f-1==-1?(n=11,i-=1):n-=1;u=new Date(i,n,1);t(u)});document.getElementById("month-nav-right").addEventListener("click",function(){var r=calendar.getCurDate(),n,i,f=n=r.getMonth(),e=i=r.getFullYear(),u;f+1===12?(n=0,i+=1):n+=1;u=new Date(i,n,1);t(u)});t()};
/*
//# sourceMappingURL=main.min.js.map
*/