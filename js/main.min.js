var updatePopup=function(){function n(n,t,i,r,u,f,e){n.innerHTML='<img src="img/loading-icon2.gif" style="vertical-align: middle; margin-bottom: 3px;" />';setTimeout(function(){n.innerHTML=e;n.dataset.val=e},2e3)}var t=function(t,i,r,u,f,e,o,s,h){var b=document.body||document.getElementsByTagName("body")[0],a=document.createElement("div"),c,l,y,v,p,w;a.className="update-popup-container";a.addEventListener("click",function(){b.removeChild(a)});c=document.createElement("div");c.className="update-popup";c.style.left=(window.innerWidth-i>=192?i:i-192)+"px";c.style.top=r-50+"px";l=document.createElement("input");l.type="text";l.value=h;l.addEventListener("click",function(n){n.stopPropagation()});l.addEventListener("keypress",function(i){i.keyCode===13&&n(t,u,f,e,o,s,l.value)});y=document.createElement("div");v=document.createElement("img");v.addEventListener("click",function(){n(t,u,f,e,o,s,l.value)});v.src="img/check-icon.png";y.appendChild(v);p=document.createElement("div");w=document.createElement("img");w.src="img/close-icon.png";p.appendChild(w);c.appendChild(l);c.appendChild(y);c.appendChild(p);a.appendChild(c);b.appendChild(a)};return{drawPopup:t}}();window.onload=function(){function r(){var i=document.getElementById("all-dates"),f=i.style||window.getComputedStyle(i),t=parseInt(f.marginLeft),r=140,u;window.innerWidth>=768&&(r=350);t<0&&t>=-r?i.style.marginLeft="0px":t<-r?(u=t+r,i.style.marginLeft=u+"px"):t===0&&(i.style.marginLeft=t+30+"px",setTimeout(function(){i.style.marginLeft=t+"px"},150));n=!1}function u(){var t=document.getElementById("all-dates"),o=t.style||window.getComputedStyle(t),i=parseInt(o.marginLeft),r=t.offsetWidth,u=document.getElementById("all-dates-container").offsetWidth,f=140,e;window.innerWidth>=768&&(f=350);Math.abs(i)>=r-(u+f)&&Math.abs(i)<r-u&&r-(u+f)>=0?(t.style.marginLeft=u-r+"px",n=!0):Math.abs(i)<r-(u+f)?(e=i-f,t.style.marginLeft=e+"px",n=!1):i===u-r&&(t.style.marginLeft=i-30+"px",setTimeout(function(){t.style.marginLeft=i+"px"},150),n=!0)}function i(n){n?calendar.setCurDate(n):n=calendar.getCurDate();var t=document.getElementById("all-dates"),i=document.getElementsByClassName("date-nav-left-container")[0],r=document.getElementsByClassName("date-nav-right-container")[0],u=document.getElementById("cal-heading");u.innerHTML=calendar.getMonthName(n.getMonth())+" "+n.getFullYear();i.style.display="none";r.style.display="none";t.innerHTML="";t.style.textAlign="center";t.style.paddingTop="60px";t.style.width="100%";t.className="";setTimeout(function(){t.className="transition-margin-left"},500);t.style.marginLeft="0px";t.innerHTML='<img src="img/loading-icon.gif" />';dataFactory.getRoomsData(n.getMonth(),n.getFullYear(),function(u){var e,f;for(i.style.display="block",r.style.display="block",t.style.textAlign="inherit",t.style.paddingTop="0",t.style.width=calendar.getNumDaysOfMonth(n)*70+"px",t.innerHTML=calendar.drawCal(u,n.getMonth(),n.getFullYear()),e=document.getElementsByClassName("open-update-popup"),f=0;f<e.length;f++)e[f].addEventListener("click",function(n){updatePopup.drawPopup(this,n.clientX,n.clientY,this.dataset.date,this.dataset.month,this.dataset.year,this.dataset.roomType,this.dataset.label,this.dataset.val)})},function(n){t.innerHTML="";alert(n)})}var t=document.getElementById("all-dates-container").offsetWidth,n=!1;window.addEventListener("resize",function(){var r=document.getElementById("all-dates-container").offsetWidth,u,i;r>t&&n&&(u=parseInt(document.getElementById("all-dates").style.marginLeft),i=u+(r-t),i>0&&(i=0),document.getElementById("all-dates").style.marginLeft=i+"px");t=r});document.getElementsByClassName("date-nav-left-container")[0].addEventListener("click",r);document.getElementsByClassName("date-nav-right-container")[0].addEventListener("click",u);document.getElementById("month-nav-left").addEventListener("click",function(){var r=calendar.getCurDate(),n,t,f=n=r.getMonth(),e=t=r.getFullYear(),u;f-1==-1?(n=11,t-=1):n-=1;u=new Date(t,n,1);i(u)});document.getElementById("month-nav-right").addEventListener("click",function(){var r=calendar.getCurDate(),n,t,f=n=r.getMonth(),e=t=r.getFullYear(),u;f+1===12?(n=0,t+=1):n+=1;u=new Date(t,n,1);i(u)});i()};
/*
//# sourceMappingURL=main.min.js.map
*/